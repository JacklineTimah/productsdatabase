{"version":3,"sources":["database.config.js"],"names":["require","Pool","config","DATABASE_URL","pool","connectionString","query","err","res","console","error","log","values","_ref","rows","_args","arguments","regeneratorRuntime","async","_context","prev","next","length","undefined","awrap","sent","abrupt","stop","module","runQuery"],"mappings":"0BAAiBA,QAAQ,MAAjBC,cAAAA,KACFC,OAASF,QAAQ,eADfC,iBAGiBC,OAAOC,aAC1BC,KAAO,IAAIH,KAAK,CAAEI,iBAAAA,mBAAlBD,KAAIE,MAAOL,eAAK,SAAAM,EAAAC,GAAEH,EAExBI,QAAAC,MAAA,8BAAAH,GACCE,QAAME,IAAA,sCAKKF,IAAAA,SAAA,SAAYH,GAAZ,IAAAM,EAAAC,EAAAC,EAAAC,EAAAC,UAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAYT,EAAZ,EAAAG,EAAAO,aAAAC,IAAAR,EAAA,GAAAA,EAAA,GAAY,GAAZI,EAAAE,KAAA,EAAAJ,mBAAAO,MACHpB,KAAAE,MAAAA,EAAAM,IADG,KAAA,EAAA,OAAAC,EAAAM,EAAAM,KACHX,EADGD,EACHC,KADGK,EAAAO,OAAA,SAJRZ,GAIQ,KAAA,EAAA,IAAA,MAAA,OAAAK,EAAAQ,WAKZC,OAAMC,QAAW,CAAAA,SAAAA","file":"database.config.min.js","sourcesContent":["const { Pool } = require('pg');\r\nconst config = require('./env/index');\r\n\r\nconst connectionString = config.DATABASE_URL;\r\nconst pool = new Pool({ connectionString });\r\n\r\n// This is to check for a successful connection\r\n(() => {\r\n    pool.query('SELECT NOW()', (err, res) => {\r\n        if (err) {\r\n            console.error('Database Connection Failed!', err);\r\n        } else {\r\n            console.log('Connected to PostgreSQL Database');\r\n        }\r\n    });\r\n})();\r\n\r\nconst runQuery = async (query, values = []) => {\r\n    const {rows} = await pool.query(query, values);\r\n    return rows;\r\n}\r\n\r\nmodule.exports = { runQuery };\r\n"]}