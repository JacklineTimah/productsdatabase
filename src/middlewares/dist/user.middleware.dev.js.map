{"version":3,"sources":["user.middleware.js"],"names":["require","runQuery","fetchUserById","checkIfIdExists","req","res","next","id","params","user","status","json","code","message","data","console","log","module","exports"],"mappings":";;;;;;;;;;eAAqBA,OAAO,CAAC,2BAAD,C;IAApBC,Q,YAAAA,Q;;gBACkBD,OAAO,CAAC,iBAAD,C;IAAzBE,a,aAAAA,a;;AAER,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZC,UAAAA,EAFY,GAELH,GAAG,CAACI,MAFC,CAEZD,EAFY;AAAA;AAAA,0CAGQN,QAAQ,CAACC,aAAD,EAAgB,CAACK,EAAD,CAAhB,CAHhB;;AAAA;AAAA;AAAA;AAAA;AAGbE,UAAAA,IAHa,uBAGN,IAHM;;AAAA,cAIfA,IAJe;AAAA;AAAA;AAAA;;AAAA,2CAKXJ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,YAAAA,MAAM,EAAE,OADkB;AAE1BE,YAAAA,IAAI,EAAE,GAFoB;AAG1BC,YAAAA,OAAO,EAAE,qBAHiB;AAI1BC,YAAAA,IAAI,EAAE;AAJoB,WAArB,CALW;;AAAA;AAYpBC,UAAAA,OAAO,CAACC,GAAR,CAAY;AAAEP,YAAAA,IAAI,EAAJA;AAAF,WAAZ;AACAL,UAAAA,GAAG,CAACK,IAAJ,GAAWA,IAAX;AAboB,2CAcbH,IAAI,EAdS;;AAAA;AAAA;AAAA;AAAA,2CAgBbA,IAAI,aAhBS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AAoBAW,MAAM,CAACC,OAAP,GAAiB;AACff,EAAAA,eAAe,EAAfA;AADe,CAAjB","sourcesContent":["const { runQuery } = require('../config/database.config');\r\nconst { fetchUserById } = require('../queries/user');\r\n\r\nconst checkIfIdExists = async (req, res, next) => {\r\n  try {\r\n    const { id } = req.params;\r\n    const [user = null] = await runQuery(fetchUserById, [id]);\r\n    if (!user) {\r\n      return res.status(400).json({\r\n        status: 'error',\r\n        code: 400,\r\n        message: 'User does not exist',\r\n        data: null,\r\n      });\r\n    }\r\n    console.log({ user })\r\n    req.user = user;\r\n    return next();\r\n  } catch (error) {\r\n    return next(error);\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  checkIfIdExists,\r\n};\r\n"],"file":"user.middleware.dev.js"}