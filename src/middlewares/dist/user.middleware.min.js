"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(r,e){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)){var t=[],n=!0,a=!1,u=void 0;try{for(var i,s=r[Symbol.iterator]();!(n=(i=s.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(r){a=!0,u=r}finally{try{n||null==s.return||s.return()}finally{if(a)throw u}}return t}}function _arrayWithHoles(r){if(Array.isArray(r))return r}var _require=require("../config/database.config"),runQuery=_require.runQuery,_require2=require("../queries/user"),fetchUserById=_require2.fetchUserById,checkIfIdExists=function(e,t,n){var a,u,i,s,o;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=e.params.id,r.next=4,regeneratorRuntime.awrap(runQuery(fetchUserById,[a]));case 4:if(u=r.sent,i=_slicedToArray(u,1),s=i[0],o=void 0===s?null:s){r.next=10;break}return r.abrupt("return",t.status(400).json({status:"error",code:400,message:"User does not exist",data:null}));case 10:return console.log({user:o}),e.user=o,r.abrupt("return",n());case 15:return r.prev=15,r.t0=r.catch(0),r.abrupt("return",n(r.t0));case 18:case"end":return r.stop()}},null,null,[[0,15]])};module.exports={checkIfIdExists:checkIfIdExists};
//# sourceMappingURL=user.middleware.min.js.map
